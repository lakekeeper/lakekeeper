{
  "db_name": "PostgreSQL",
  "query": "\n        WITH history as (\n            INSERT INTO task_log(task_id,\n                                 warehouse_id,\n                                 queue_name,\n                                 task_data,\n                                 status,\n                                 entity_id,\n                                 entity_type,\n                                 message,\n                                 attempt,\n                                 started_at,\n                                 duration,\n                                 progress,\n                                 execution_details,\n                                 attempt_scheduled_for,\n                                 last_heartbeat_at,\n                                 parent_task_id,\n                                 task_created_at)\n                SELECT task_id,\n                       warehouse_id,\n                       queue_name,\n                       task_data,\n                       $3,\n                       entity_id,\n                       entity_type,\n                       $2,\n                       attempt,\n                       picked_up_at,\n                       now() - picked_up_at,\n                       1.0000,\n                       execution_details,\n                       scheduled_for,\n                       last_heartbeat_at,\n                       parent_task_id,\n                       created_at\n                FROM task\n                WHERE task_id = $1\n                ON CONFLICT (task_id, attempt) DO NOTHING\n                RETURNING task_id\n                )\n        DELETE FROM task\n        WHERE task_id = $1\n        ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        "Text",
        {
          "Custom": {
            "name": "task_final_status",
            "kind": {
              "Enum": [
                "failed",
                "cancelled",
                "success"
              ]
            }
          }
        }
      ]
    },
    "nullable": []
  },
  "hash": "5bd47311d02686a600bca9b1b7950e6d9319e12d86a73749fc985727a7a0c8dd"
}
