{
  "db_name": "PostgreSQL",
  "query": "\n        WITH deleted AS (\n            DELETE FROM table_refs WHERE table_id = $1 AND table_ref_name not in (SELECT UNNEST($2::TEXT[]))\n        )\n        INSERT INTO table_refs(table_id,\n                              table_ref_name,\n                              snapshot_id,\n                              retention)\n        SELECT $1, u.* FROM UNNEST($2::TEXT[], $3::BIGINT[], $4::JSONB[]) u\n        ON CONFLICT (table_id, table_ref_name)\n        DO UPDATE SET snapshot_id = EXCLUDED.snapshot_id, retention = EXCLUDED.retention",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        "TextArray",
        "Int8Array",
        "JsonbArray"
      ]
    },
    "nullable": []
  },
  "hash": "009c03de13ca6188f4c2ce1205783d9ea7f67ac8bc0c0e567d5e268ced7758a4"
}
