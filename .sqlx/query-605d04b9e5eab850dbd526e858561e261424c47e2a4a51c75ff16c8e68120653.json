{
  "db_name": "PostgreSQL",
  "query": "\n            WITH history as (\n                INSERT INTO task_log(\n                    task_id,\n                    warehouse_id,\n                    queue_name,\n                    task_data,\n                    status,\n                    entity_id,\n                    entity_type,\n                    attempt,\n                    started_at,\n                    duration,\n                    progress,\n                    execution_details,\n                    attempt_scheduled_for,\n                    last_heartbeat_at,\n                    parent_task_id,\n                    task_created_at\n                )\n                SELECT\n                    task_id,\n                    warehouse_id,\n                    queue_name,\n                    task_data,\n                    $2,\n                    entity_id,\n                    entity_type,\n                    attempt,\n                    picked_up_at,\n                    now() AT TIME ZONE 'UTC' - picked_up_at,\n                    progress,\n                    execution_details,\n                    scheduled_for,\n                    last_heartbeat_at,\n                    parent_task_id,\n                    created_at\n                FROM task WHERE task_id = $1\n            )\n            DELETE FROM task\n            WHERE task_id = $1\n            ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        {
          "Custom": {
            "name": "task_final_status",
            "kind": {
              "Enum": [
                "failed",
                "cancelled",
                "success"
              ]
            }
          }
        }
      ]
    },
    "nullable": []
  },
  "hash": "605d04b9e5eab850dbd526e858561e261424c47e2a4a51c75ff16c8e68120653"
}
