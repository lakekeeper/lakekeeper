{
  "db_name": "PostgreSQL",
  "query": "\n            WITH moved AS (\n                DELETE FROM task WHERE task_id = $1 AND attempt = $2 RETURNING *\n            )\n            INSERT INTO task_log(\n                task_id,\n                warehouse_id,\n                queue_name,\n                task_data,\n                status,\n                entity_id,\n                entity_type,\n                message,\n                attempt,\n                started_at,\n                duration,\n                progress,\n                execution_details,\n                attempt_scheduled_for,\n                last_heartbeat_at,\n                parent_task_id,\n                task_created_at\n            )\n            SELECT\n                task_id,\n                warehouse_id,\n                queue_name,\n                task_data,\n                'failed',\n                entity_id,\n                entity_type,\n                $3,\n                attempt,\n                picked_up_at,\n                now() - picked_up_at,\n                progress,\n                execution_details,\n                scheduled_for,\n                last_heartbeat_at,\n                parent_task_id,\n                created_at\n            FROM moved\n            ON CONFLICT (task_id, attempt) DO NOTHING\n            RETURNING task_id\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "task_id",
        "type_info": "Uuid"
      }
    ],
    "parameters": {
      "Left": [
        "Uuid",
        "Int4",
        "Text"
      ]
    },
    "nullable": [
      false
    ]
  },
  "hash": "32a0cea2cc0b1631c1d2b058a0949f266063a120f8ae1cd2dbd9539a3603ab05"
}
