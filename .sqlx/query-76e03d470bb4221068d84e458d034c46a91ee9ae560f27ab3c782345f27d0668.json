{
  "db_name": "PostgreSQL",
  "query": "\n        WITH deleted AS (\n            DELETE FROM table_refs\n            WHERE warehouse_id = $1 AND table_id = $2\n            AND table_ref_name NOT IN (SELECT unnest($3::TEXT[]))\n        )\n        INSERT INTO table_refs(warehouse_id,\n                              table_id,\n                              table_ref_name,\n                              snapshot_id,\n                              retention)\n        SELECT $1, $2, unnest($3::TEXT[]), unnest($4::BIGINT[]), unnest($5::JSONB[])\n        ON CONFLICT (warehouse_id, table_id, table_ref_name)\n        DO UPDATE SET snapshot_id = EXCLUDED.snapshot_id, retention = EXCLUDED.retention",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        "Uuid",
        "TextArray",
        "Int8Array",
        "JsonbArray"
      ]
    },
    "nullable": []
  },
  "hash": "76e03d470bb4221068d84e458d034c46a91ee9ae560f27ab3c782345f27d0668"
}
